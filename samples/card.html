<!DOCTYPE html>
<html>
<head>
	<title>Card Data Form - JavaScript JQuery form library </title>
	
	<script src="../thirdparty/jquery/jquery-1.11.0.min.js"></script>

	<link href="../fancyform/fancyform.min.css" rel="stylesheet">

	<script src="../fancyform/fancyform.min.js"></script>

	<script src="../thirdparty/google-code-prettify/prettify.js" type="text/javascript"></script>
	<link href="../thirdparty/google-code-prettify/prettify.css" rel="stylesheet" type="text/css">

</head>
<body>
<div style="margin: 20px 20px 20px;">
	<div id="form"></div>
</div>

<script id="script-id">
window.onload = function(){
	FancyForm.vtype({
        type: 'code',
        fn: function(value){
            return value.length === 3;
        },
        text: 'Invalid code'
    });
	
	var cardData = [
		{index: 0, card: ''},
		{index: 1, card: 'Visa'},
		{index: 2, card: 'MasterCard'},
		{index: 3, card: 'Maestro'},
	];
	
	var yearData = [
		{index: 0, year: ''},
		{index: 1, year: 2015},
		{index: 3, year: 2016},
		{index: 4, year: 2017},
		{index: 5, year: 2018},
		{index: 6, year: 2019},
		{index: 7, year: 2020},
		{index: 8, year: 2021},
		{index: 9, year: 2022},
		{index: 10, year: 2023},
		{index: 11, year: 2024},
		{index: 12, year: 2025},
		{index: 13, year: 2026},
		{index: 14, year: 2027},
		{index: 15, year: 2028},
		{index: 16, year: 2029},
		{index: 17, year: 2030},
		{index: 18, year: 2031},
		{index: 19, year: 2032},
		{index: 20, year: 2033},
		{index: 21, year: 2034}
	];
	
	var monthData = [
		{index: 0, month: ''},
		{index: 1, month: '01'},
		{index: 2, month: '02'},
		{index: 3, month: '03'},
		{index: 4, month: '04'},
		{index: 5, month: '05'},
		{index: 6, month: '06'},
		{index: 7, month: '07'},
		{index: 8, month: '08'},
		{index: 9, month: '09'},
		{index: 10, month: '10'},
		{index: 11, month: '11'},
		{index: 12, month: '12'}
	];
	
	var comboMonth = [];
	
	var form = $('#form').FancyForm({
		title: 'Card',
		width: 320,
		height: 260,
		inputWidth: 200,
		labelWidth: 55,
		
		url: 'submit.php',
		method: 'POST',
		
		items: [{
			type: 'line',
			label: false,
			defaults: {
				valid: {
					blank: false,
					blankText: 'Required'
				}
			},
			items: [{
				type: 'string',
				labelAlign: 'top',
				label: 'Cardholder',
				emptyText: 'Name',
				name: 'name'
			},{
				type: 'string',
				labelAlign: 'top',
				emptyText: 'SurName',
				name: 'surname'
			}]
		},{
			type: 'line',
			label: false,
			defaults: {
				valid: {
					blank: false,
					blankText: 'Required'
				}
			},
			items: [{
				type: 'string',
				labelAlign: 'top',
				label: 'Card number',
				name: 'cardnumber'
			},{
				type: 'combo',
				labelAlign: 'top',
				label: 'Card type',
				name: 'cardtype',
				labelWidth: 100,
				inputWidth: 118,
				data: cardData,
				displayKey: 'card',
				valueKey: 'index',
				value: 0
			}]
		},{
			type: 'line',
			label: false,
			defaults: {
				valid: {
					blank: false,
					blankText: 'Required'
				}
			},
			items: [{
				type: 'combo',
				labelAlign: 'top',
				label: 'Expires',
				name: 'month',
				labelWidth: 60,
				inputWidth: 40,
				data: monthData,
				displayKey: 'month',
				valueKey: 'index',
				value: 0
			},{
				type: 'combo',
				labelAlign: 'top',
				name: 'year',
				labelWidth: 60,
				inputWidth: 45,
				data: yearData,
				displayKey: 'year',
				valueKey: 'index',
				value: 0
			},{
				type: 'number',
				labelAlign: 'top',
				label: 'Code',
				name: 'code',
				labelWidth: 40,
				inputWidth: 40,
				min: 100,
				max: 999,
				valid: {
					type: 'code',
					blank: false,
					blankText: 'Required'
				}
			}]
		}],
		buttons: [{
            text: 'Clear',
            handler: function(){
                form.clear();
            }
        },{
            text: 'Submit',
            handler: function(){
                form.submit({
                    params: {
                        param3: 'Some Values'
                    },
                    success: function(result, status, xhr){
                        console.log('success');
                        console.log(arguments);
                    },
                    error: function(xhr,status,error){
                        console.log('error');
                        console.log(arguments);
                    }
                });
            }
        }],
		events: [{
			key: function(){
				//console.log(arguments);
			}
		}]
	});
};
</script>


<div style="margin: 20px 20px 20px;width: 850px;">

<pre id="pre-id" class="prettyprint linenums"></pre>
<script src="../renderCode.js"></script>

</div>
</body>
</html>